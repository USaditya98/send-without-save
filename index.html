<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <title>Send Without Save</title>
        <link rel="icon" href="" type="image/x-icon" />
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" />
        <!-- Google Fonts Roboto -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@500&family=Kaushan+Script&family=Pacifico&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/mdb.min.css" />
        <link rel="stylesheet" href="css/style.css" />
    </head>

    <body>
        <!-- Start your project here-->
        <div class="container h-auto container-sm">
            <div class="card w-auto my-5 h-auto">
                <div class=" text-center mx-auto mt-5 ">
                    <label class="form-label fs-3" for="formControlLg">Send Without Save</label>
                </div>
                <div class="form-outline mx-4 mt-2">
                    <input type="text" id="contactNumber" class="form-control form-control-lg" pattern="[1-9]{1}[0-9]{9}" maxlength="10" onchange="<script>numberError = false;</script>" />
                    <label class="form-label" for="contactNumber">Enter Mobile Number</label>
                    <p id="error"></p>
                </div>
                <div class="form-outline   mx-4 mt-4  ">
                    <textarea class="form-control" id="messageArea" rows="4"></textarea>
                    <label class="form-label" for="messageArea">Message</label>
                </div>
                <div class="form-outline   mx-4 mt-4  ">
                    <input class="form-control" id="count" value="0">
                    <label class="form-label" for="count">Message Count</label>
                </div>
                <div class="d-flex   mx-4 mt-4 justify-content-center my-5">
                    <button type="button" id="send" class="btn btn-success mx-4">Send</button>
                    <button type="reset" id="cancel" class="btn btn-danger mx-4">Cancel</button>
                </div>
            </div>
        </div>
        <footer>
            <div class="text-left mx-4" id="textColor">
                <i class="fas fa-code"></i> with <i class="fas fa-heart"></i>
            </div>

        </footer>
        <!-- End your project here-->
        <!-- MDB -->
        <script type="text/javascript" src="js/mdb.min.js"></script>
        <!-- Custom scripts -->
        <script type="text/javascript">
            var arrayMessage = [];
            document.getElementById('send').addEventListener('click', function() {
                let number = document.getElementById('contactNumber');
                let message = document.getElementById('messageArea').value;
                let count = document.getElementById('count').value;
                for (var i = 0; i <= count; i++) {
                    arrayMessage.push(message);
                }
                console.log(arrayMessage);
                var numberError = false;
                var phoneno = /^[6-9]\d{9}$/;
                let matchNumber = number.value.match(phoneno);
                if (matchNumber) {
                    // const contactId = matchNumber.includes('@s.whatsapp.net') ? matchNumber.trim() : matchNumber.trim() + '@s.whatsapp.net'
                    // alert(contactId);
                    // window.location = 'https://web.whatsapp.com/send?phone=' + matchNumber + '&text&app_absent=0';

                    // window.location = 'https://wa.me/+91' + matchNumber + '?text=' + message;
                    numberError = false;
                } else {
                    alert('invalid number');
                    // document.getElementById('error').append("Invalid Number");
                    // numberError = true;
                }
            });
        </script>
    </body>

</html>